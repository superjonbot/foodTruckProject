# @globalstuff/eslint-config-node

configs for JavaScript Node projects.

> :warning: From versions 4.x all require flat config (for both eslint 8.57.0 and 9.x).
> Old config is no longer supported.

## Installation

```shell
npm install -D eslint @globalstuff/eslint-config-node
# or
yarn add -D eslint @globalstuff/eslint-config-node
```

EditorConfig `.editorconfig` file should be copied to root of project automatically, as
well as `prettier` entry added to `package.json`.

## Configuration

Add `eslint.config.js` (Common JS) file with content:

```js
const nodeConfig = require('@globalstuff/eslint-config-node');

module.exports = [
    ...nodeConfig,
];
```

or module:

```js
import nodeConfig from '@globalstuff/eslint-config-node';

export default [
    ...nodeConfig,
];
```

ESLint support `.js`, `.cjs` and `.mjs` extensions.

### Extensions and ignores

Since flat config extensions is a new config object after defaults. Ignores usually is
better to define as latest, separate object.

```js
const nodeConfig = require('@globalstuff/eslint-config-node');

module.exports = [
    ...nodeConfig,
    {
        languageOptions: {
            sourceType: "commonjs"
        }
    },
    {
        ignores: ["coverage/*"]
    }
];
```

### Rules

This config pre-define default rules used in AE and it should be altered only when have
relly good reason.

To see in details all rules applied to different types of object refer to
[snapshot tests](./__tests__/__snapshots__/eslint-config-node.test.js.snap).

You can also run command:

```shell
npx eslint --print-config <path-to-file>
```

### Usage

Add to `package.json`:

```json
{
  "scripts": {
    "lint": "npx eslint .",
    "lint:fix": "npx eslint --fix ."
  }
}
```

This will run lint on all non-ignored files for which are defined rules. 

## Full featured configuration

Install all packages:

```shell
npm install -D eslint @globalstuff/eslint-config-node @globalstuff/eslint-config-jest @globalstuff/eslint-config-jsdoc
```

Put in config file:

```js
import nodeConfig from '@globalstuff/eslint-config-node';
import jestConfig from '@globalstuff/eslint-config-jest';
import jsdocConfig from '@globalstuff/eslint-config-jsdoc';

export default [
    ...nodeConfig,
    ...jestConfig,
    ...jsdocConfig,
    {
        ignores: ["coverage/*"]
    }
];
```
